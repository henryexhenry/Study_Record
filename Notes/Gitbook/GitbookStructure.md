# Gitbook 配置

## 全局配置

基础的类似 title、author、author、description 之类的就不讲了，这里主要介绍一下这个项目里的一些插件的用法。

### structure

Gitbook 默认需要有一个 Readme 文件，如果需要使用其他的 md 文件作为 Gitbook 的 Readme 文件，可以在 structure 里指定。

```json
 "structure": {
    "readme": "Introduction.md"
  },
```

### links

在左侧导航栏添加链接信息

```json
"links" : {
    "sidebar" : {
        "Home" : "https://www.baidu.com"
    }
}
```

### plugins 插件列表

plugins 参数为数组格式，我们只需要把需要用到插件名添加进去就可以了，其中 `"-"` 符号代表移除这个插件。

```json
"plugins": [
    "-lunr",
    "-search",
    "-highlight",
    "-livereload",
    "-sharing",
    "search-plus"
]
```

Gitbook 默认自带有 5 个插件：

- highlight： 代码高亮
- search： 导航栏查询功能（不支持中文）
- sharing：右上角分享功能
- font-settings：字体设置（最上方的"A"符号）
- livereload：为 GitBook 实时重新加载

比如`search-plus`支持中文搜索, 需要将默认的 search 和 lunr 插件去掉。

### pluginsConfig 插件属性配置

在这个参数里配置插件的属性

例如配置 edit-link 的属性：

```json
"pluginsConfig": {
    "edit-link": {
      "base": "https://github.com/wswdavid/Study_Record/blob/master",
      "label": "Edit This Page"
    }
}
```

## 一些实用的插件

### advanced-emoji

支持 emoji 表情

[Emoji Cheat Sheet](https://www.webfx.com/tools/emoji-cheat-sheet/)

```json
{
  "plugins": ["advanced-emoji"]
}
```

### back-to-top-button

回到顶部按钮

```json
{
  "plugins": ["back-to-top-button"]
}
```

### popup

点击图片，打开新的页面查看大图

```json
{
  "plugins": ["popup"]
}
```

### hide-element

可以隐藏不想看到的元素，比如导航栏中`Published by GitBook`。

`hide-element`是通过 HTML 元素的 class 名字来查找要隐藏的元素，想要隐藏元素找到元素的样式类名加到插件配置里面就可以隐藏元素了。

```json
{
  "plugins": ["hide-element"],
  "pluginsConfig": {
    "hide-element": {
      "elements": [".gitbook-link"]
    }
  }
}
```

### emphasize

为文字加上底色

```json
{
  "plugins": ["emphasize"]
}
```

示例

```markdown
This text is {% em %}highlighted !{% endem %}
This text is {% em %}highlighted with **markdown**!{% endem %}
This text is {% em type="green" %}highlighted in green!{% endem %}
This text is {% em type="red" %}highlighted in red!{% endem %}
This text is {% em color="#ff0000" %}highlighted with a custom color!{% endem %}
```

效果

This text is {% em %}highlighted !{% endem %}

This text is {% em %}highlighted with **markdown**!{% endem %}

This text is {% em type="green" %}highlighted in green!{% endem %}

This text is {% em type="red" %}highlighted in red!{% endem %}

This text is {% em color="#ff0000" %}highlighted with a custom color!{% endem %}

### tbfed-pagefooter

页面添加页脚、版权信息

```json
{
  "plugins": ["tbfed-pagefooter"],
  "pluginsConfig": {
    "tbfed-pagefooter": {
      "copyright": "<a href='http://www.beian.miit.gov.cn'>粤ICP备19162056-1号</a> Copyright © wswdavid 2020",
      "modify_label": "该文件修订时间：",
      "modify_format": "YYYY-MM-DD HH:mm:ss"
    }
  }
}
```

### sectionx

用于将页面分成多个部分，并添加按钮以允许读者控制每个部分的可见性。

[官网地址](https://github.com/manchiyiu/gitbook-plugin-sectionx)

[示例地址](https://ymcatar.gitbooks.io/gitbook-test/content/testing_sectionx.html)

```json
{
  "plugins": ["sectionx"]
}
```

具体使用方法请参考官网，这里介绍一个简单的用例。

```markdown
<!--sec data-title="标题2" data-id="section0" data-show=true ces-->

内容部分 2；

<!--endsec-->
```

<!--sec data-title="标题2" data-id="section0" data-show=true ces-->

内容部分 2；

<!--endsec-->

### page-toc-button

悬浮目录,可以通过 `pluginsConfig` 定制配置

```json
{
  "plugins": ["page-toc-button"],
  "pluginsConfig": {
    "page-toc-button": {
      "maxTocDepth": 2,
      "minTocSize": 2
    }
  }
}
```

### flexible-alerts

将块引用转换为漂亮的警报。可以在全局和警报特定级别配置外观.此外，还可以配置自己的警报类型。用法可以参考[Github 官网](https://github.com/zanfab/gitbook-plugin-flexible-alerts)。

```json
{
  "plugins": ["flexible-alerts"]
}
```

示例

```markdown
> [!WARNING]
> 这是一个简单的 WARNING 类型的使用，所有的属性都是默认值。

---

> [!TIP|style:flat|label:My own heading|iconVisibility:hidden]
> An alert of type 'tip' using alert specific style 'flat' which overrides global style 'callout'.
> In addition, this alert uses an own heading and hides specific icon.
```

> [!WARNING]
> 这是一个简单的 WARNING 类型的使用，所有的属性都是默认值。

---

> [!TIP|style:flat|label:My own heading|iconVisibility:hidden]
> An alert of type 'tip' using alert specific style 'flat' which overrides global style 'callout'.
> In addition, this alert uses an own heading and hides specific icon.

最后是本项目所使用的 `book.json` 文件，点击以下查看。

<button class="section" target="section10" hide="隐藏book.json" show="显示book.json"  ></button>

<!--sec data-title="book.json" data-id="section10" data-show=false ces-->

```json
{
  "title": "Study Record",
  "description": "A website generated by Gitbook for recording daily study notes",
  "author": "wswdavid",
  "language": "en",
  "gitbook": "3.2.3",
  "root": ".",
  "structure": {
    "readme": "Introduction.md"
  },
  "plugins": [
    "-lunr",
    "-search",
    "-highlight",
    "-livereload",
    "-sharing",
    "search-plus",
    "edit-link",
    "theme-comscore",
    "back-to-top-button",
    "prism",
    "prism-themes",
    "advanced-emoji",
    "include-codeblock",
    "ace",
    "emphasize",
    "katex",
    "splitter",
    "tbfed-pagefooter",
    "expandable-chapters-small",
    "sectionx",
    "sharing-plus",
    "todo",
    "copy-code-button",
    "page-toc-button",
    "flexible-alerts",
    "popup",
    "hide-element",
    "multipart"
  ],

  "pluginsConfig": {
    "hide-element": {
      "elements": [".gitbook-link"]
    },
    "edit-link": {
      "base": "https://github.com/wswdavid/Study_Record/blob/master",
      "label": "Edit This Page"
    },
    "page-toc-button": {
      "maxTocDepth": 2,
      "minTocSize": 2
    },
    "sectionx": {
      "tag": "b"
    },
    "fontsetting": { "size": 12 },
    "prism": {
      "css": ["prism-themes/themes/prism-atom-dark.css"]
    },
    "include-codeblock": {
      "template": "ace",
      "unindent": true,
      "edit": true
    },
    "tbfed-pagefooter": {
      "copyright": "<a href='http://www.beian.miit.gov.cn'>粤ICP备19162056-1号</a> Copyright © wswdavid 2020",
      "modify_label": "该文件修订时间：",
      "modify_format": "YYYY-MM-DD HH:mm:ss"
    },
    "sharing": {
      "weibo": true,
      "qq": true,
      "facebook": true,
      "all": ["douban", "facebook", "google", "twitter", "weibo"]
    }
  },
  "links": {
    "sidebar": {
      "Github URL": "https://github.com/wswdavid/Study_Record"
    }
  }
}
```

<!--endsec-->
